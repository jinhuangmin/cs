<?xml version="1.0" encoding="GB2312"?>
<ui>
  <view>
    <container>
      <layout type="linearLayout" />
      <editProperty>
        <dataDefines>
          <dataDefine name="yhqArray" type="jsonArray" min="1" max="8" propertyName="★ 优惠券设置"  isNull="true">
            <param name="number" type="text" isNull="true"  propertyName="┏优惠券金额" />
            <param name="tj" type="text" isNull="true"  propertyName="┣使用条件" />
            <param name="url" type="url" validateType="taokeurl||wirelessurl" isNull="true"  propertyName="┗链接地址" />
          </dataDefine>

          <dataDefine name="mk_style" type="radio"  isNull="true" propertyName="★ 自定义模块样式" >
            <config type="sync">
              <data text="收起设置" value="false" defaultSelect="true"/>
              <data text="展开设置" value="true" defaultSelect="false"/>
            </config>
          </dataDefine>
          <dataDefine name="mkBg" type="text" isNull="true"  propertyName="模块背景颜色(如：#ffffff)" refer="mk_style:true"/>
          <dataDefine name="bdBg" type="text" isNull="true"  propertyName="内容背景颜色(如：#ffffff)" refer="mk_style:true"/>
          <dataDefine name="textColor" type="text" isNull="true"  propertyName="优惠券文字颜色(如：#ffffff)" refer="mk_style:true"/>
          <dataDefine name="marginTop" type="text" isNull="true"  propertyName="模块上间距(默认0)" refer="mk_style:true"/>
          <dataDefine name="marginBottom" type="text" isNull="true"  propertyName="模块下间距(默认40)" refer="mk_style:true"/>
        </dataDefines>
      </editProperty>
      <styleBinding>
        <attribute name="width" value="640"/>
        <attribute name="backgroundColor" value="#f5f5f5"/>
      </styleBinding>
      <conditions>
        <condition type="!=" left="$mkBg" right="null" executionType="1">
          <styleBinding backgroundColor="$mkBg"/>
        </condition>
      </conditions>
      <subViews>
        <!--上间距-->
        <container>
          <layout type="linearLayout"/>
          <styleBinding>
            <attribute name="width" value="640"/>
            <attribute name="height" value="0"/>
          </styleBinding>
          <conditions>
            <condition type="!=" left="$marginTop" right="null" executionType="1">
              <styleBinding height="$marginTop"/>
            </condition>
          </conditions>
        </container>
        <!--走马灯-->
        <container>
          <layout type="linearLayout" orientation="horizontal" scroll="2"/>
          <styleBinding>
            <attribute name="width" value="608"/>
            <attribute name="height" value="120"/>
            <attribute name="marginLeft" value="16" />
            <attribute name="backgroundColor" value="#d03d46"/>
            <attribute name="borderRadius" value="16"/>
          </styleBinding>
          <conditions>
            <condition type="!=" left="$bdBg" right="null">
              <styleBinding backgroundColor="$bdBg"/>
            </condition>
          </conditions>
            <foreach start="0" step="1" >
              <array value="$yhqArray"/>
              <template>
                <container>
                  <layout type="linearLayout" />
                  <styleBinding>
                    <attribute name="width" value="180"/>
                    <attribute name="height" value="120"/>
                  </styleBinding>
                  <conditions>
                    <condition type="==" left="$yhqArray._size_" right="3" executionType="1">
                      <styleBinding width="203"/>
                    </condition>
                  </conditions>
                  <subViews>
                     <container>
                        <layout type="linearLayout" orientation="horizontal" />
                        <styleBinding>
                          <attribute name="marginTop" value="30"/>
                          <attribute name="height" value="40"/>
                          <attribute name="width" value="180"/>
                          <attribute name="justifyContent" value="center" />
                          <attribute name="alignItems" value="center" />
                        </styleBinding>
                        <subViews>
                          <label value="￥" lines="1">
                            <styleBinding>
                              <attribute name="marginTop" value="14"/>
                              <attribute name="fontSize" value="24"/>
                              <attribute name="color" value="#ffffff"/>
                            </styleBinding>
                            <conditions>
                              <condition type="!=" left="$textColor" right="null" executionType="1">
                                <styleBinding color="$textColor"/>
                              </condition>
                            </conditions>
                          </label>
                          <label value="$yhqArray.[?].number" lines="1">
                            <styleBinding>
                              <attribute name="fontSize" value="48"/>
                              <attribute name="color" value="#ffffff"/>
                            </styleBinding>
                            <conditions>
                              <condition type="!=" left="$textColor" right="null" executionType="1">
                                <styleBinding color="$textColor"/>
                              </condition>
                            </conditions>
                          </label>
                        </subViews>
                      </container>
                      <label value="$yhqArray.[?].tj" lines="1">
                        <styleBinding>
                          <attribute name="width" value="180"/>
                          <attribute name="textAlign" value="center"/>
                          <attribute name="lineHeight" value="30"/>
                          <attribute name="fontSize" value="20"/>
                          <attribute name="color" value="#ffffff"/>
                        </styleBinding>
                        <conditions>
                          <condition type="!=" left="$textColor" right="null">
                            <styleBinding color="$textColor"/>
                          </condition>
                        </conditions>
                      </label>
                  </subViews>
                  <events>
                    <event type="click">
                      <actions>
                        <userTrack>
                          <utParams>
                            <params>
                            <param name="wp_p" value="1"/>
                          </params>
                        </utParams>
                      </userTrack>
                      <openURL url="$yhqArray.[?].url"/>
                    </actions>
                  </event>
                </events>
              </container>
            </template>
          </foreach>
      </container>

      <!--下间距-->
      <container>
        <layout type="linearLayout"/>
        <styleBinding>
          <attribute name="width" value="640"/>
          <attribute name="height" value="40"/>
        </styleBinding>
        <conditions>
          <condition type="!=" left="$marginBottom" right="null" executionType="1">
            <styleBinding height="$marginBottom"/>
          </condition>
        </conditions>
      </container>

    </subViews>
  </container>
</view>
</ui>