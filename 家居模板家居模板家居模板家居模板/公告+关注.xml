<?xml version="1.0" encoding="GB2312"?>
<ui>
<view>
<container>
	<layout type="linearLayout" />
	<!-- 编辑属性 -->
	<editProperty>
		<dataDefines>
			<dataDefine name="mkType" type="radio"  isNull="true"  propertyName="★ 模块风格" description="选择一种">
				<config type="sync">
					<data text="风格1(公告+关注)" value="1" defaultSelect="true"/>
					<data text="风格2(滑动分类)" value="2" defaultSelect="false"/>
				</config>
			</dataDefine>
			<dataDefine name="not" type="text" isNull="true"  propertyName="公告内容" refer="mkType:1"/>
			<dataDefine name="not_url" type="url" validateType="taokeurl||wirelessurl" propertyName="公告链接" isNull="true" refer="mkType:1"/>	
			<dataDefine name="sc_url" type="url" validateType="taokeurl||wirelessurl" propertyName="关注链接(请联系客服)" isNull="true" refer="mkType:1"/>	

			<dataDefine name="itemArray" type="jsonArray" min="1" max="20" propertyName="滑动分类设置"  isNull="true" refer="mkType:2">
				<param name="title" type="text" isNull="true"  propertyName="┏分类名称" />
				<param name="url" type="url" validateType="taokeurl||wirelessurl" isNull="true"  propertyName="┗链接地址" />
			</dataDefine>

			<dataDefine name="subItemType" type="radio"  isNull="true"  propertyName="★ 弹出分类设置">
				<config type="sync">
					<data text="收起设置" value="0" defaultSelect="true"/>
					<data text="展开设置" value="1" defaultSelect="false"/>
					<data text="不显示" value="2" defaultSelect="false"/>
				</config>
			</dataDefine>	 
			<dataDefine name="subItemArray" type="jsonArray" min="1" max="20" propertyName=""  isNull="true" refer="subItemType:1">
				<param name="title" type="text"  isNull="true"  propertyName="┏分类名称" />
				<param name="url" type="url" validateType="taokeurl||wirelessurl" isNull="true"  propertyName="┗链接地址" />
			</dataDefine>
			<dataDefine name="allItemUrl" type="url" validateType="taokeurl||wirelessurl" propertyName="底部所有宝贝链接" isNull="true" refer="subItemType:1" />	

			<dataDefine name="mk_style" type="radio"  isNull="true" propertyName="★ 自定义模块样式" >
				<config type="sync">
					<data text="收起设置" value="false" defaultSelect="true"/>
					<data text="展开设置" value="true" defaultSelect="false"/>
				</config>
			</dataDefine>	
			<dataDefine name="mkBg" type="text" isNull="true"  propertyName="模块背景颜色(如：#ffffff)" refer="mk_style:true"/>
			<dataDefine name="mkColor" type="text" isNull="true"  propertyName="模块文字颜色(如：#ffffff)" refer="mk_style:true"/>

			<dataDefine name="icon" type="text" isNull="true"  propertyName="折叠展开图标(风格1宽100，风格2宽70，高70)" refer="mk_style:true" />	
			<dataDefine name="sc_img" type="text" isNull="true"  propertyName="关注图片(宽120，高70)" refer="mk_style:true"/>

			<dataDefine name="subItemBdBg" type="text" isNull="true"  propertyName="弹出分类：背景颜色(如：#ffffff)" refer="mk_style:true"/>
			<dataDefine name="subItemBg" type="text" isNull="true"  propertyName="分类背景颜色(如：#ffffff)" refer="mk_style:true"/>
			<dataDefine name="subItemBk" type="text" isNull="true"  propertyName="分类边框颜色(如：#ffffff)" refer="mk_style:true"/>
			<dataDefine name="subItemColor" type="text" isNull="true"  propertyName="分类文字颜色(如：#ffffff)" refer="mk_style:true"/>
		</dataDefines>
	</editProperty>
	<styleBinding>
		<attribute name="width" value="640"/>
		<attribute name="backgroundColor" value="#444444"/>
	</styleBinding>
	<conditions>
		<condition type="!=" left="$mkBg" right="null">
			<styleBinding backgroundColor="$mkBg"/>
		</condition>	
	</conditions>		
	<subViews>
		<!--上边内容-->
		<container>
			<layout type="absoluteLayout"/>
			<styleBinding>
				<attribute name="width" value="640"/>
				<attribute name="height" value="70"/>
			</styleBinding>					
			<subViews>
				<!--展开按钮-->
				<container >
					<layout type="linearLayout" />
					<styleBinding>
						<attribute name="width" value="100"/>
						<attribute name="height" value="70"/>
						<attribute name="marginLeft" value="0" />
						<attribute name="marginTop" value="0" />
					</styleBinding>
					<conditions>
						<condition type="==" left="$mkType" right="2" executionType="1">
							<styleBinding marginLeft="570"/>
						</condition>	
					</conditions>
					<subViews>

						<!--icon图标-->						
						<image url="https://img.alicdn.com/imgextra/i1/800803731/O1CN01H7xUB51dQqFn4K4zD_!!800803731.png" viewId="MODULE_KEY_PLACE_HOLDER_m_0_hideView">
							<styleBinding>
								<attribute name="width" value="100"/>
								<attribute name="height" value="70"/>
							</styleBinding>
							<conditions>
								<condition type="!=" left="$icon" right="null" executionType="1">
									<dataBinding>
										<data name="url" value="$icon"/>
									</dataBinding>
								</condition>
							</conditions>
							<events>
								<event type="click">
									<actions>
										<userTrack>
											<utParams>
												<params>
													<param name="wp_p" value="0"/>
												</params>
											</utParams>
										</userTrack>
										<changeStyle> 
											<params> 
												<param name="viewId" value="MODULE_KEY_PLACE_HOLDER_m_0_hideView"/> 
												<param name="styleBinding" type="json"> 
												{"height":0}
												</param> 
											</params>
										</changeStyle>
										<changeStyle> 
											<params> 
												<param name="viewId" value="MODULE_KEY_PLACE_HOLDER_m_1_hideView"/> 
												<param name="styleBinding" type="json"> 
												{"height":70} 
												</param> 
											</params>
										</changeStyle>

										<refreshView viewId="MODULE_KEY_PLACE_HOLDER_m_0_hideView"/>
										<refreshView viewId="MODULE_KEY_PLACE_HOLDER_m_1_hideView"/>
										<!--让对应的大图显示，其他大图隐藏-->
										<changeStyle> 
											<params> 
												<param name="viewId" value="MODULE_KEY_PLACE_HOLDER_0_hideView"/> 
												<param name="styleBinding" type="json"> 
												{"width":640} 
												</param> 
											</params> 
										</changeStyle>
									
										<!--刷新所有大图状态,break-->
										<refreshView viewId="MODULE_KEY_PLACE_HOLDER_0_hideView" isBreak="true"/>
									</actions>
								</event>
							</events>	
						</image>
						<image url="https://img.alicdn.com/imgextra/i1/800803731/O1CN01H7xUB51dQqFn4K4zD_!!800803731.png" viewId="MODULE_KEY_PLACE_HOLDER_m_1_hideView">
							<styleBinding>
								<attribute name="width" value="100"/>
								<attribute name="height" value="0"/>
							</styleBinding>
							<conditions>
								<condition type="!=" left="$icon" right="null" executionType="1">
									<dataBinding>
										<data name="url" value="$icon"/>
									</dataBinding>
								</condition>
							</conditions>
							<events>
								<event type="click">
									<actions>
										<userTrack>
											<utParams>
												<params>
													<param name="wp_p" value="1"/>
												</params>
											</utParams>
										</userTrack>
										<changeStyle> 
											<params> 
												<param name="viewId" value="MODULE_KEY_PLACE_HOLDER_m_0_hideView"/> 
												<param name="styleBinding" type="json"> 
												{"height":70}
												</param> 
											</params>
										</changeStyle>
										<changeStyle> 
											<params> 
												<param name="viewId" value="MODULE_KEY_PLACE_HOLDER_m_1_hideView"/> 
												<param name="styleBinding" type="json"> 
												{"height":0} 
												</param> 
											</params>
										</changeStyle>

										<refreshView viewId="MODULE_KEY_PLACE_HOLDER_m_0_hideView"/>
										<refreshView viewId="MODULE_KEY_PLACE_HOLDER_m_1_hideView"/>
										<!--让对应的大图显示，其他大图隐藏-->
										<changeStyle> 
											<params> 
												<param name="viewId" value="MODULE_KEY_PLACE_HOLDER_0_hideView"/> 
												<param name="styleBinding" type="json"> 
												{"width":0} 
												</param> 
											</params> 
										</changeStyle>
									
										<!--刷新所有大图状态,break-->
										<refreshView viewId="MODULE_KEY_PLACE_HOLDER_0_hideView" isBreak="true"/>
									</actions>
								</event>
							</events>	
						</image>

					</subViews> 
				</container>

				<!--风格1-->
				<container>
					<layout type="linearLayout" orientation="horizontal" />
					<styleBinding>
						<attribute name="width" value="540"/>
						<attribute name="height" value="70"/>
						<attribute name="marginLeft" value="100" />
						<attribute name="marginTop" value="0" />
					</styleBinding>	
					<conditions>
						<condition type="==" left="$mkType" right="2">
							<styleBinding width="0" hieght="0"/>
						</condition>	
					</conditions>			
					<subViews>
						<label value="全场28元包邮 偏远地区除外 关注领劵" lines="1">	
							<styleBinding>
								<attribute name="width" value="420"/>
								<attribute name="height" value="70"/>
								<attribute name="lineHeight" value="70"/>
								<attribute name="fontSize" value="24"/>
								<attribute name="color" value="#ffffff"/>
							</styleBinding>
							<conditions>
								<condition type="!=" left="$not" right="null" executionType="1">
									<dataBinding>
										<data name="value" value="$not"/>
									</dataBinding>
								</condition>											
								<condition type="!=" left="$mkColor" right="null">
									<styleBinding color="$mkColor"/>
								</condition>
							</conditions>
							<events>
								<event type="click">
									<actions>
										<userTrack  utType="Image" utName="image">
											<utParams>
												<params>
													<param name="wp_p" value="1"/>
												</params>
											</utParams>
										</userTrack>
										<openURL url="$not_url"/>
									</actions>
								</event>
							</events>	
					    </label>
						<!--店铺收藏-->
						<image url="https://tb.cn/WNHpFqv">
							<styleBinding>
								<attribute name="width" value="120"/>
								<attribute name="height" value="70"/>
							</styleBinding>
							<conditions>
								<condition type="!=" left="$sc_img" right="null">
									<dataBinding>
										<data name="url" value="$sc_img"/>
									</dataBinding>
								</condition>
							</conditions>
							<events>
								<event type="click">
									<actions>
										<userTrack  utType="Image" utName="image">
											<utParams>
												<params>
													<param name="wp_p" value="1"/>
												</params>
											</utParams>
										</userTrack>
										<openURL url="$sc_url"/>
									</actions>
								</event>
							</events>							
						</image>
					</subViews>
				</container>

				<!--风格2-->
				<container>
					<layout type="linearLayout" orientation="horizontal"  scroll="2" />
					<styleBinding>
						<attribute name="width" value="0"/>
						<attribute name="height" value="0"/>
						<attribute name="marginLeft" value="0"/>
						<attribute name="marginTop" value="0"/>
					</styleBinding>
					<conditions>
						<condition type="==" left="$mkType" right="2" executionType="1">
							<styleBinding width="570" height="70"/>
						</condition>
					</conditions>
					<foreach start="0" step="1" >
						<array value="$itemArray"/>
						<template>
							<container>
								<layout type="linearLayout" />
								<styleBinding>
									<attribute name="height" value="70"/>
									<attribute name="marginLeft" value="20"/>
									<attribute name="marginRight" value="20"/>
								</styleBinding>
								<subViews>
									<label value="$itemArray.[?].title">	
										<styleBinding>
											<attribute name="height" value="70"/>
											<attribute name="lineHeight" value="70"/>
											<attribute name="fontSize" value="24"/>
											<attribute name="color" value="#ffffff"/>
										</styleBinding>
										<conditions>
											<condition type="!=" left="$mkColor" right="null">
												<styleBinding color="$mkColor"/>
											</condition>	
										</conditions>
									</label>
								</subViews>
								<events>
									<event type="click">
										<actions>
											<userTrack>
												<utParams>
													<params>
														<param name="wp_p" value="1"/>
													</params>
												</utParams>
											</userTrack>
											<openURL url="$itemArray.[?].url"/>
										</actions>
									</event>
								</events>
							</container>
						</template>
					</foreach>
				</container>

			</subViews>	
		</container>
		
		<!--折叠展开的内容-->
		<container viewId="MODULE_KEY_PLACE_HOLDER_0_hideView">
			<layout type="linearLayout" />
			<styleBinding>
				<attribute name="width" value="0"/>
				<attribute name="backgroundColor" value="#ffffff"/>
			</styleBinding>
			<conditions>
				<condition type="!=" left="$subItemBdBg" right="null" executionType="1">
					<styleBinding backgroundColor="$subItemBdBg"/>
				</condition>
				<condition type="==" left="$subItemType" right="2">
					<styleBinding width="0" height="0" />
				</condition>
			</conditions>
			<subViews>
				<!-- 1行3列 -->
				 <grid unScroll="true" gridColumn="3" needDownRefresh="false" needNextPage="false" dataSource="$subItemArray">
                  <styleBinding>
                    <attribute name="width" value="582"/>
                    <attribute name="paddingTop" value="30" />
                    <attribute name="marginLeft" value="29" />
                  </styleBinding>
                  <array value="$subItemArray"/>
                  <cell>
                    <container>
                      <layout type="linearLayout" />
                      <styleBinding>
                        <attribute name="width" value="170" />
                        <attribute name="height" value="50"/>
                        <attribute name="marginTop" value="24"/>
                        <attribute name="marginRight" value="24"/>
                      </styleBinding>
                      <subViews>
                        <label value="$subItemArray.[?].title" lines="1"> 
                          <styleBinding>
                            <attribute name="width" value="170"/>
                            <attribute name="height" value="50"/>
                            <attribute name="textAlign" value="center"/>
                            <attribute name="lineHeight" value="50"/>
                            <attribute name="fontSize" value="22"/>
                            <attribute name="color" value="#333333"/>
                            <attribute name="backgroundColor" value="#ffffff"/>
                            <attribute name="borderWidth" value="1"/>
                            <attribute name="borderColor" value="#dddddd"/>
                            <attribute name="borderRadius" value="16"/>
                          </styleBinding>
                          <conditions>   
                            <condition type="!=" left="$subItemBg" right="null" executionType="1">
                              <styleBinding backgroundColor="$subItemBg"/>
                            </condition>       
                            <condition type="!=" left="$subItemBk" right="null" executionType="1">
                              <styleBinding borderColor="$subItemBk"/>
                            </condition>           
                            <condition type="!=" left="$subItemColor" right="null" executionType="1">
                              <styleBinding color="$subItemColor"/>
                            </condition>
                          </conditions>
                        </label>
                      </subViews>
                      <events>
                        <event type="click">
                          <actions>
                            <userTrack>
                              <utParams>
                                <params>
                                  <param name="wp_p" value="1"/>
                                </params>
                              </utParams>
                            </userTrack>
                            <openURL url="$subItemArray.[?].url"/>
                          </actions>
                        </event>
                      </events>
                    </container>
                  </cell>
                </grid>
				
				<label value="查看所有宝贝" lines="1"> 
                  <styleBinding>
                    <attribute name="width" value="300"/>
                    <attribute name="height" value="70"/>
                    <attribute name="marginTop" value="30"/>
					<attribute name="marginLeft" value="170"/>
                    <attribute name="marginBottom" value="30" />
                    <attribute name="textAlign" value="center"/>
                    <attribute name="lineHeight" value="70"/>
                    <attribute name="fontSize" value="24"/>
                    <attribute name="fontWeight" value="700"/>
                    <attribute name="color" value="#333333"/>
                    <attribute name="backgroundColor" value="#ffffff"/>
                    <attribute name="borderWidth" value="1"/>
                    <attribute name="borderColor" value="#dddddd"/>
                    <attribute name="borderRadius" value="16"/>
                  </styleBinding>
                  <conditions>   
                    <condition type="!=" left="$subItemBg" right="null" executionType="1">
                      <styleBinding backgroundColor="$subItemBg"/>
                    </condition>       
                    <condition type="!=" left="$subItemBk" right="null" executionType="1">
                      <styleBinding borderColor="$subItemBk"/>
                    </condition>           
                    <condition type="!=" left="$subItemColor" right="null" executionType="1">
                      <styleBinding color="$subItemColor"/>
                    </condition>
                  </conditions>
                  <events>
						<event type="click">
							<actions>
								<userTrack  utType="Label" utName="label">
									<utParams>
										<params>
											<param name="wp_p" value="1"/>
										</params>
									</utParams>
								</userTrack>
								<openURL url="$allItemUrl"/>
							</actions>
						</event>
					</events>		
                </label>
					
			</subViews>
		</container>

	</subViews>
</container>
</view>
</ui>