<?xml version="1.0" encoding="GB2312"?>
<ui>
  <view>
    <container>
      <layout type="linearLayout" />
      <editProperty>
        <dataDefines>
          <dataDefine name="isScrolltrue" type="radio"  isNull="true" propertyName="★ 轮播方式">
            <config type="sync">
              <data text="自动轮播" value="true" defaultSelect="true"/>
              <data text="手指滑动" value="false" defaultSelect="false"/>
            </config>
          </dataDefine>
          <dataDefine name="pointDisplay" type="radio"  isNull="true" propertyName="轮播圆点">
            <config type="sync">
              <data text="显示" value="true" defaultSelect="true"/>
              <data text="隐藏" value="false" defaultSelect="false"/>
            </config>
          </dataDefine>  

          <dataDefine name="mkHeight" type="text" isNull="true"  propertyName="★ 背景设置：模块高度(默认440)"/>
          <dataDefine name="mkBg" type="image" propertyName="背景图片(宽640,高为模块高度)" isNull="true" />
          
          <dataDefine name="lbWidth" type="text" isNull="true"  propertyName="★ 轮播设置：轮播宽度(默认540)"/>
          <dataDefine name="lbHeight" type="text" isNull="true"  propertyName="轮播高度(默认250)"/>
          <dataDefine name="lbLeft" type="text" isNull="true"  propertyName="左侧距离(默认50)"/>
          <dataDefine name="lbTop" type="text" isNull="true"  propertyName="顶部距离(默认150)"/>
          <dataDefine name="lbArray" type="jsonArray" min="1" max="15" propertyName="轮播内容设置"  isNull="true">
            <param name="image" type="image" isNull="true"  propertyName="┏图片选择(宽高为自定义值)" />
            <param name="url" type="url" validateType="taokeurl||wirelessurl" isNull="true"  propertyName="┗链接地址"/>
          </dataDefine>
        </dataDefines>
      </editProperty>

      <styleBinding>
        <attribute name="width" value="640"/>
      </styleBinding> 
      <subViews>
        <container>
          <layout type="absoluteLayout"/>
          <styleBinding>
            <attribute name="width" value="640"/>
            <attribute name="height" value="440"/>
          </styleBinding>         
          <conditions>
            <condition type="!=" left="$mkHeight" right="null" executionType="1">
              <styleBinding height="$mkHeight"/>
            </condition>
          </conditions>
          <subViews>
            <!-- 背景图片 -->
            <image url="https://img.alicdn.com/imgextra/i3/800803731/O1CN01WwqFmU1dQqFxIOSiq_!!800803731.png">
              <styleBinding>
                <attribute name="width" value="640"/>
                <attribute name="height" value="440"/>
              </styleBinding>
              <conditions>
                <condition type="!=" left="$mkHeight" right="null" executionType="1">
                  <styleBinding height="$mkHeight"/>
                </condition>
                <condition type="!=" left="$mkBg" right="null" executionType="1">
                  <dataBinding>
                    <data name="url" value="$mkBg"/>
                  </dataBinding>
                </condition>
              </conditions> 
            </image>  
            <!--海报轮播-->
            <sliderView>
              <styleBinding>
                <attribute name="width" value="540"/>
                <attribute name="height" value="250"/>
                <attribute name="marginLeft" value="50"/>
                <attribute name="marginTop" value="150"/>
                <attribute name="isPointHide" value="false"/>
              </styleBinding>
              <conditions>
                <condition type="!=" left="$lbWidth" right="null" executionType="1">
                  <styleBinding width="$lbWidth"/>
                </condition>
                <condition type="!=" left="$lbHeight" right="null" executionType="1">
                  <styleBinding height="$lbHeight"/>
                </condition>
                <condition type="!=" left="$lbLeft" right="null" executionType="1">
                  <styleBinding marginLeft="$lbLeft"/>
                </condition>
                <condition type="!=" left="$lbTop" right="null" executionType="1">
                  <styleBinding marginTop="$lbTop"/>
                </condition>
                <condition type="==" left="$pointDisplay" right="false" executionType="1">
                  <styleBinding isPointHide="true"/>
                </condition>
                <condition type="==" left="$isScrolltrue" right="true" executionType="1">
                  <dataBinding>
                    <data name="autoScrollEnabled" value="true"/>
                  </dataBinding>
                </condition>
              </conditions>
              <foreach start="0" step="1" >
                <array value="$lbArray"/>
                <template>
                    <image url="https://img.alicdn.com/imgextra/i4/800803731/O1CN010k86h21dQqFscQhrG_!!800803731.png">
                    <styleBinding>
                      <attribute name="width" value="540"/>
                      <attribute name="height" value="250"/>
                    </styleBinding>
                    <conditions>
                      <condition type="!=" left="$lbArray.[?].image" right="null" executionType="1">
                        <dataBinding>
                          <data name="url" value="$lbArray.[?].image"/>
                        </dataBinding>
                      </condition>   
                      <condition type="!=" left="$lbWidth" right="null" executionType="1">
                        <styleBinding width="$lbWidth"/>
                      </condition>
                      <condition type="!=" left="$lbHeight" right="null" executionType="1">
                        <styleBinding height="$lbHeight"/>
                      </condition>
                    </conditions>
                    <events>
                      <event type="click">
                        <actions>
                          <userTrack utType="Image" utName="image">
                            <utParams>
                              <params>
                                <param name="wp_app" value="weapp" />
                                <param name="wp_p" value="$wp_pk" />
                                <param name="wp_m" value="MODULE_KEY_PLACE_HOLDER" />
                              </params>
                            </utParams>
                          </userTrack>
                          <openURL url="$lbArray.[?].url">
                            <params>
                              <param name="wp_app" value="weapp" />
                              <param name="wp_pk" value="$wp_pk" />
                              <param name="wp_m" value="MODULE_KEY_PLACE_HOLDER" />
                            </params>
                          </openURL>
                        </actions>
                      </event>
                    </events>
                   </image>
                </template>
              </foreach>
            </sliderView>
          </subViews>
        </container>
      
      </subViews>
    </container>
  </view>
</ui>